<style>
    .banner-box {
        transition-duration: 0.4s;
        height: 50px;
        background-color: #dadde0;
        border: 1px solid #dee2e6;
        margin-bottom: 20px;
        cursor: pointer;
    }

    .banner-box:hover {
        background-color: #e9ecef;
    }

    .banner-box h5 b {
        transition-duration: 0.4s;
        color: rgb(74, 74, 74);
    }

    .banner-box h5 b:hover {
        color: black;
    }
</style>

<div class="container my-5">
    <h2><b>Banners</b></h2>
    <div>
        <h3 class="text-center mt-5"><b>Home Page</b></h3>
        <div class="row">
            <div class="col">
                <div class="d-flex justify-content-center mb-3">
                    <div class="col-lg-12 row d-flex justify-content-between">
                        {{#each admin.banner.mainBanner}}
                        <div class="col"><img width="200" height="100" src="{{this}}" alt="Image1"></div>
                        {{/each}}
                    </div>
                </div>
                <div class="banner-box d-flex justify-content-center align-items-center" data-bs-toggle="modal"
                    data-bs-target="#homeBannerModal">
                    <h5><b class="">Change Home Banners</b></h5>
                </div>
            </div>
        </div>
    </div>

    <div>
        <h3 class="text-center mt-5"><b>Category Banners</b></h3>
        <div class="row">
            <div class="col">
                <div class="d-flex justify-content-center mb-3">
                    <div class="col-lg-12 row d-flex justify-content-between">
                        <div class="col d-flex justify-content-center"><img width="350" height="200"
                                src="{{admin.banner.categoryBanner.[0].image}}" alt="Image1"></div>
                        <div class="col d-flex justify-content-center"><img width="350" height="200"
                                src="{{admin.banner.categoryBanner.[1].image}}" alt="Image2"></div>
                    </div>
                </div>
                <div class="col-lg-12 g-2 row d-flex justify-content-between">
                    <div class="banner-box col d-flex justify-content-center align-items-center" data-bs-toggle="modal"
                        data-bs-target="#homePageOffersModal1">
                        <h5><b>Change Banner</b></h5>
                    </div>
                    <div class="banner-box col d-flex justify-content-center align-items-center mx-2"
                        data-bs-toggle="modal" data-bs-target="#homePageOffersModal2">
                        <h5><b>Change Banner</b></h5>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Home Page -->
    <div class="modal fade" id="homeBannerModal" tabindex="-1" aria-labelledby="homeBannerModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="homeBannerModalLabel">Change Home Page Banner</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="row mt-3">
                        <form id="homeBannerForm" action="/admin/changeMainBanner"
                            class="col d-flex justify-content-between" method="post" enctype="multipart/form-data">
                            <input type="file" multiple name="image" id="homeBanner"><br>
                            <small id="homeFileErrorMsg" class="text-danger d-none"><b>Please select at least one
                                    image</b></small>
                            <button type="submit" class="btn btn-primary">Change Banner</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.getElementById('homeBannerForm').addEventListener('submit', function (event) {
            var fileInput = document.getElementById('homeBanner');
            if (fileInput.files.length === 0) {
                event.preventDefault(); // Prevent form submission
                document.getElementById('homeFileErrorMsg').classList.remove('d-none'); // Show error message
            }
        });
    </script>

    <!-- Modal for Home Page Offers -->
    <!-- 1 -->
    <div class="modal fade" id="homePageOffersModal1" tabindex="-1" aria-labelledby="homePageOffersModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="homeBannerModalLabel">Change Offer Banner</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="row mt-3">
                        <form id="offerBannerForm1" action="/admin/categoryBanner/1" class="col" method="post"
                            enctype="multipart/form-data">
                            <div class="form-group row">
                                <div class="col-sm-6">
                                    <input type="file" class="form-control-file" id="offerBanner1" name="image"
                                        accept="image/*">
                                </div>
                                <span id="offerFileErrorMsg1" class="text-danger d-none col-sm-4"><b>Please select an
                                        image</b></span>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-12">
                                    <button type="submit" class="btn btn-primary">Change Banner</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script>
        document.getElementById('offerBannerForm1').addEventListener('submit', function (event) {
            let fileInput = document.getElementById('offerBanner1');
            let error = false;

            // Validate file input
            if (fileInput.files.length !== 1) {
                error = true;
                document.getElementById('offerFileErrorMsg1').classList.remove('d-none'); // Show error message
            }

            // Prevent form submission if there are errors
            if (error) {
                event.preventDefault();
            }
        });
    </script>
    <!-- 2 -->
    <div class="modal fade" id="homePageOffersModal2" tabindex="-1" aria-labelledby="homePageOffersModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="homeBannerModalLabel">Change Offer Banner</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="row mt-3">
                        <form id="offerBannerForm2" action="/admin/categoryBanner/2" class="col" method="post"
                            enctype="multipart/form-data">
                            <div class="form-group row">
                                <div class="col-sm-6">
                                    <input type="file" class="form-control-file" id="offerBanner2" name="image"
                                        accept="image/*">
                                </div>
                                <span id="offerFileErrorMsg2" class="text-danger d-none col-sm-4"><b>Please select an
                                        image</b></span>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-12">
                                    <button type="submit" class="btn btn-primary">Change Banner</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.getElementById('offerBannerForm2').addEventListener('submit', function (event) {
            let fileInput = document.getElementById('offerBanner2');
            let offerValue = document.getElementById('offerVal2');
            let title = document.getElementById('title2');
            let error = false;

            // Validate file input
            if (fileInput.files.length !== 1) {
                error = true;
                document.getElementById('offerFileErrorMsg2').classList.remove('d-none');
            }

            if (error) {
                event.preventDefault();
            }
        });
    </script>
</div>

{{!-- SweetAlert --}}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/admin/scripts/productList.js"></script>